<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Thoughts ⇌ Jason</title>
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css"
        />
        <style type="text/css">
            /* Content width constraint for optimal readability */
            :root {
                --content-width: 50rem;
            }

            /* Cooler base colors for contrast with orange */
            html {
                height: 100%;
            }

            body {
                min-height: 100%;
                display: flex;
                flex-direction: column;
                background-color: #e2e8f0;
            }

            h1 {
                font-size: 4em;
                color: #4a5568;
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            }

            .css-full-comments-content {
                padding: 100px;
            }

            /* Override hero to use cool dark blue-gray */
            .hero.is-dark {
                background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%) !important;
            }

            /* Orange accent colors */
            a {
                color: #ff8c42;
                transition: all 0.2s ease;
            }

            a:hover {
                color: #ff6b35 !important;
                text-decoration: underline;
            }

            .footer a:hover i {
                color: #ff6b35 !important;
                transform: scale(1.1);
            }

            .footer a i {
                transition: all 0.3s ease;
            }

            /* Orange date/metadata */
            .has-text-grey-light.subtitle,
            .subtitle.is-6.has-text-grey-light {
                color: #ff8c42 !important;
            }

            /* Orange border accent on titles */
            .title a {
                border-left: 4px solid #ff6b35;
                padding-left: 12px;
                display: inline-block;
            }

            /* Orange accent on page titles */
            .content .title {
                color: #2d3748;
                border-bottom: 3px solid #ff8c42;
                padding-bottom: 8px;
                display: inline-block;
            }

            /* Breadcrumb active state in orange */
            .breadcrumb li.is-active a {
                color: #ff6b35 !important;
            }

            /* Orange hover for navigation arrows */
            .fas.fa-long-arrow-alt-left,
            .fas.fa-long-arrow-alt-right {
                color: #ff8c42;
                transition: transform 0.2s ease;
            }

            a:hover .fas.fa-long-arrow-alt-left {
                transform: translateX(-4px);
            }

            a:hover .fas.fa-long-arrow-alt-right {
                transform: translateX(4px);
            }

            /* Cool-toned content background */
            .section {
                background-color: #ffffff;
                flex: 1;
            }

            /* Constrain content width for optimal readability */
            .section .container {
                max-width: var(--content-width);
            }

            /* Footer with cool gray background */
            .footer {
                background-color: #e2e8f0 !important;
            }

            /* View transitions for smooth page navigation */
            @media not (prefers-reduced-motion) {
                @view-transition {
                    navigation: auto;
                }
            }
        </style>
    </head>

    <body>
        <section class="hero is-dark is-bold">
            <div class="hero-body">
                <div class="container">
                    <a href="/">
                        <h1 class="title">JASON KNIGHT</h1>
                    </a>
                    <p class="subtitle">Witty subtitle here</p>
                </div>
            </div>
        </section>
        <section class="section">
            <div class="container">

<div class="columns">
    <div class="column is-three-quarters">
        <div class="content">
            <p class="title">
                How to install GHC 7.4.1 and friends in Ubuntu from source
            </p>
            <p class="subtitle is-6 has-text-grey-light">2012-02-04 - Reading time:
                4
                minutes
            </p>
        </div>
    </div>
    <div class="column is-one-quarter">
        <nav class="breadcrumb" aria-label="breadcrumbs">
            <ul>
                
                
                <li><a href="https:&#x2F;&#x2F;binarybana.github.io&#x2F;"> Home </a></li>
                
                
                <li><a href="https:&#x2F;&#x2F;binarybana.github.io&#x2F;blog&#x2F;"> Blog </a></li>
                
                <li class="is-active" aria-current="page"><a href="#">How to install GHC 7…</a>
                </li>
            </ul>
        </nav>
    </div>

</div>
<!-- <h2> TOC </h2>
    <ul>
        
    </ul> -->

<div class="content">
    <div class="css-full-post-content js-full-post-content">
If you'd like to install the newest version of the Glorious Haskell Compiler, you can either wait for the Haskell Platform to come out later in the Spring or for the adventurous you can pull all the pieces together yourself.<br /><br />I first attempted installing GHC 7.4.1 from the prebuilt x86_64 binaries provided from haskell.org/ghc but they are <a href="http://hackage.haskell.org/trac/ghc/ticket/5447">linked against an old version of libgmp</a>, and rather than try any ugly symlink hacks*, I decided to try compiling from source, which I've wanted to do for a while anyways. Luckily the process is quite simple due to the miraculous work put into the build system.<br /><br />I like to install everything locally in my $HOME/src/ghc so that it is easy to remove everything later on down the line, but pick your own poison. Also, it is necessary to use cabal-install from darcs HEAD because the current stable version on Hackage is not updated for GHC 7.4.1. You will need &gt; 3GB free space for this process and a healthy amount of RAM.<br /><br /><script src="https://gist.github.com/1735487.js?file=ghc-install-ubuntu-src.sh"></script> And you're off to the races!<br /><br /><b>Update 2</b>: As <a href="http://www.reddit.com/r/haskell/comments/pabfi/cant_wait_for_the_haskell_platform_compiling_ghc/c3nv4p0">hvr_ pointed out</a> in the reddit comments, it is possible to get around the libgmp easily with a <br /><pre>sudo aptitude install libgmp3c2</pre>to avoid recompiling GHC yourself. So you can go that route as well but you'll still need the latest cabal-install.<br /><br /><b>Update 3: </b>To avoid much pain later on when trying to build profiling libraries with cabal-install, I have added the step of exporting the EXTRA_CONFIGURE_OPTS variable on line 19 before running bootstrap to generate those initial profiling libraries as well.
</div>
<div class="css-full-comments-content js-full-comments-content">
<div class="css-full-comment js-full-comment">
  <div class="css-comment-user-link js-comment-user-link">
  <a href="http://www.blogger.com/profile/18310180570057447651">
  <div class="css-comment-name js-comment-name">
    Prabhat
  </div>
  </a>
  <div class="css-comment-date js-comment-date">
    2012-02-04T12:46:20.335Z
  </div>
  </div>
  <div class="css-comment-content js-comment-content">
    Are you not missing ./boot ?
  </div>
  <br/>
</div>
<div class="css-full-comment js-full-comment">
  <div class="css-comment-user-link js-comment-user-link">
  <a href="http://www.blogger.com/profile/00649400936159605312">
  <div class="css-comment-name js-comment-name">
    Jason Knight
  </div>
  </a>
  <div class="css-comment-date js-comment-date">
    2012-02-04T14:45:29.758Z
  </div>
  </div>
  <div class="css-comment-content js-comment-content">
    I believe ./boot is only required after pulling GHC source from Git. It has already been done for the source tarball on the GHC download page.<br /><br />http://hackage.haskell.org/trac/ghc/wiki/Building/QuickStart
  </div>
  <br/>
</div>
<div class="css-full-comment js-full-comment">
  <div class="css-comment-user-link js-comment-user-link">
  <a href="http://www.blogger.com/profile/18310180570057447651">
  <div class="css-comment-name js-comment-name">
    Prabhat
  </div>
  </a>
  <div class="css-comment-date js-comment-date">
    2012-02-04T14:58:56.119Z
  </div>
  </div>
  <div class="css-comment-content js-comment-content">
    True. I did not realise that.
  </div>
  <br/>
</div>
<div class="css-full-comment js-full-comment">
  <div class="css-comment-user-link js-comment-user-link">
  <a href="http://www.blogger.com/profile/06191672696732639582">
  <div class="css-comment-name js-comment-name">
    Eric
  </div>
  </a>
  <div class="css-comment-date js-comment-date">
    2012-02-22T19:53:12.017Z
  </div>
  </div>
  <div class="css-comment-content js-comment-content">
    This comment has been removed by the author.
  </div>
  <br/>
</div>
</div>
</div>

<div class="columns">
    
    
</div>

</div>
        </section>
        <footer class="footer">
            <nav class="container level is-mobile">
                <div class="level-left">
                    <a
                        class="level-item has-text-grey-light"
                        href="http://www.linkedin.com/in/binarybana/"
                        >in</a
                    >
                    <a
                        class="level-item has-text-grey-light"
                        href="https://www.github.com/binarybana/"
                        >gh</a
                    >
                </div>

                <div class="level-right">
                    <p class="has-text-grey-light">
                        Content is
                        <a
                            class="has-text-grey-light"
                            href="http://creativecommons.org/licenses/by-nc-sa/4.0/"
                            >CC BY NC SA 4.0</a
                        >.
                    </p>
                </div>
            </nav>
        </footer>
    </body>
</html>
